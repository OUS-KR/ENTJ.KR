<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ëŠ˜ì˜ ê²Œì„ - ENTJ</title>
    <link rel="stylesheet" href="/u/tests/assets/css/main.css?20251011000000">
    <style>
        .game-card-content {
            text-align: center;
        }
        .game-area {
            margin-top: 1.5em;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .game-display {
            margin-bottom: 1em;
            color: var(--text-color);
        }
        .game-display.question {
            font-size: 1.2em;
            font-weight: bold;
        }
        .choices {
            display: flex;
            flex-direction: column;
            gap: 0.8em;
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }
        .choice-btn {
            padding: 0.8em 1em;
            font-size: 1em;
            background-color: var(--primary-color);
            color: var(--text-color-inverted);
            border: 1px solid var(--primary-color-dark);
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            width: 100%;
        }
        .choice-btn:hover {
            background-color: var(--primary-color-dark);
        }
        .game-input {
            margin-top: 1.5em;
            margin-bottom: 1em;
        }
        .game-input input[type="text"], .game-input input[type="number"] {
            padding: 0.5em;
            font-size: 1.2em;
            width: 150px;
            border: 2px solid var(--border-color, #ccc);
            border-radius: 4px;
            background-color: var(--input-bg-color);
            color: var(--text-color);
            text-align: center;
        }
        .game-input button {
            padding: 0.6em 1.5em;
            font-size: 1.1em;
            background-color: #007bff;
            color: white;
            border: 1px solid #0069d9;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-left: 0.5em;
        }
        .game-input button:hover {
            background-color: #0069d9;
        }
        .feedback-message {
            margin-top: 1em;
            font-size: 1.2em;
            font-weight: bold;
        }
        .feedback-message.correct {
            color: var(--success-color);
        }
        .feedback-message.incorrect {
            color: var(--error-color);
        }
    </style>
</head>
<body>
    <header class="main-nav">
        <a href="/u/tests/" class="logo">ENTJ.KR Tests</a>
        <div class="nav-right-section">
            <nav class="nav-links" id="nav-links"></nav>
            <button id="theme-switcher" class="theme-switcher">ğŸŒ™</button>
            <button id="hamburger" class="hamburger">â˜°</button>
        </div>
    </header>

    <div class="container">
        <h1>ì˜¤ëŠ˜ì˜ ENTJ ê²Œì„</h1>
        <div class="card info-card game-card-content">
            <div id="game-info">
                <div id="gameTitle" class="card-title"></div>
                <p id="gameDescription">ê²Œì„ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
            <div id="gameArea" class="game-area">
                <!-- Game content will be loaded here by JavaScript -->
            </div>
            <div id="game-input-area">
                <!-- Game input will be loaded here by JavaScript -->
            </div>
            <p id="feedbackMessage" class="feedback-message"></p>
        </div>
    </div>

    <script src="/u/tests/assets/js/main.js?20251011000000" defer></script>
    <script src="/u/tests/assets/js/dynamic-menu.js" defer></script>
    <script>
    function getDailySeed() {
        const today = new Date();
        return today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
    }

    function mulberry32(seed) {
        return function() {
            seed |= 0;
            seed = seed + 0x6D2B79F5 | 0;
            let t = Math.imul(seed ^ seed >>> 15, 1 | seed);
            t = t + Math.imul(t ^ t >>> 7, 61 | t) | 0;
            return ((t ^ t >>> 14) >>> 0) / 4294967296;
        }
    }

    let currentCorrectAnswer = null;
    let currentRandFn = null;
    let gameInProgress = false;

    // --- Game Implementations for ENTJ ---

    // Game 0: Optimization Puzzle
    function setupOptimizationPuzzle() {
        document.getElementById('gameTitle').innerText = "ì˜¤ëŠ˜ì˜ ê²Œì„: ìµœì í™” í¼ì¦";
        const gameArea = document.getElementById('gameArea');
        const puzzles = [
            { q: "ì—ë„ˆì§€ 10ìœ¼ë¡œ ì•¡ì…˜ A(ë¹„ìš© 3, ì ìˆ˜ 5)ì™€ ì•¡ì…˜ B(ë¹„ìš© 4, ì ìˆ˜ 7)ë¥¼ ì¡°í•©í•˜ì—¬ ì–»ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ì ìˆ˜ëŠ”?", a: 17 }, // A*2 + B*1 = 6+4=10, 10+7=17
            { q: "ì‹œê°„ 12ì¼ ë™ì•ˆ í”„ë¡œì íŠ¸ A(ê¸°ê°„ 5ì¼, ìˆ˜ìµ 8)ì™€ í”„ë¡œì íŠ¸ B(ê¸°ê°„ 3ì¼, ìˆ˜ìµ 4)ë¥¼ ì¡°í•©í•˜ì—¬ ì–»ì„ ìˆ˜ ìˆëŠ” ìµœëŒ€ ìˆ˜ìµì€?", a: 16 } // B*4 = 12ì¼, 16ìˆ˜ìµ
        ];
        const puzzle = puzzles[Math.floor(currentRandFn() * puzzles.length)];
        currentCorrectAnswer = puzzle.a;
        gameArea.innerHTML = `<div class="game-display question">${puzzle.q}</div>`;
        document.getElementById('game-input-area').innerHTML = `
            <div class="game-input">
                <input type="number" id="userAnswer" placeholder="ìµœëŒ€ê°’ ì…ë ¥">
                <button id="submitAnswer">ì œì¶œ</button>
            </div>
        `;
        gameInProgress = true;
    }

    // Game 1: Decision Matrix
    function setupDecisionMatrixGame() {
        document.getElementById('gameTitle').innerText = "ì˜¤ëŠ˜ì˜ ê²Œì„: ì˜ì‚¬ê²°ì • ë§¤íŠ¸ë¦­ìŠ¤";
        const gameArea = document.getElementById('gameArea');
        const scenarios = [
            { q: "'ë¹ ë¥¸ ì„±ê³µ'ì´ ëª©í‘œì¼ ë•Œ, ì–´ë–¤ í”„ë¡œì íŠ¸ë¥¼ ì„ íƒí•´ì•¼ í• ê¹Œìš”?", choices: ["A: ë†’ì€ ìˆ˜ìµ, ë‚®ì€ ë…¸ë ¥, ì¤‘ê°„ ìœ„í—˜", "B: ì¤‘ê°„ ìˆ˜ìµ, ë‚®ì€ ë…¸ë ¥, ë‚®ì€ ìœ„í—˜", "C: ë§¤ìš° ë†’ì€ ìˆ˜ìµ, ë†’ì€ ë…¸ë ¥, ë†’ì€ ìœ„í—˜"], correct: 1 },
            { q: "'ì•ˆì •ì„±'ì´ ìµœìš°ì„ ì¼ ë•Œ, ì–´ë–¤ íˆ¬ìë¥¼ ì„ íƒí•´ì•¼ í• ê¹Œìš”?", choices: ["A: ê³ ìœ„í—˜ ê³ ìˆ˜ìµ ì£¼ì‹", "B: ì•ˆì •ì ì¸ ì±„ê¶Œ", "C: ì¤‘ìœ„í—˜ ì¤‘ìˆ˜ìµ í€ë“œ"], correct: 1 }
        ];
        const scenario = scenarios[Math.floor(currentRandFn() * scenarios.length)];
        currentCorrectAnswer = scenario.correct;
        gameArea.innerHTML = `
            <div class="game-display question">${scenario.q}</div>
            <div class="choices">
                ${scenario.choices.map((choice, index) => `<button class="choice-btn" data-index="${index}">${choice}</button>`).join('')}
            </div>
        `;
        document.getElementById('game-input-area').innerHTML = '';
        gameInProgress = true;
    }

    // Game 2: Strategic Quote Quiz
    function setupStrategicQuoteQuiz() {
        document.getElementById('gameTitle').innerText = "ì˜¤ëŠ˜ì˜ ê²Œì„: ì „ëµ ëª…ì–¸ í€´ì¦ˆ";
        const gameArea = document.getElementById('gameArea');
        const quotes = [
            { q: "ì§€í”¼ì§€ê¸°ë©´ ë°±ì „ë¶ˆíƒœ(çŸ¥å½¼çŸ¥å·± ç™¾æˆ°ä¸æ®†) - ì ì„ ì•Œê³  ë‚˜ë¥¼ ì•Œë©´, ë°± ë²ˆ ì‹¸ì›Œë„ OOOO ì•ŠëŠ”ë‹¤.", a: "ìœ„íƒœë¡­ì§€" },
            { q: "ì „ìŸì—ì„œ ì´ê¸°ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ OOO ì•ŠëŠ” ê²ƒì´ë‹¤.", a: "ì‹¸ìš°ì§€" }
        ];
        const quote = quotes[Math.floor(currentRandFn() * quotes.length)];
        currentCorrectAnswer = quote.a.toUpperCase();
        gameArea.innerHTML = `<div class="game-display question">"${quote.q}"</div>`;
        document.getElementById('game-input-area').innerHTML = `
            <div class="game-input">
                <input type="text" id="userAnswer" placeholder="ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ë§">
                <button id="submitAnswer">ì œì¶œ</button>
            </div>
        `;
        gameInProgress = true;
    }

    // Game 3: Resource Allocation
    function setupResourceAllocationGame() {
        document.getElementById('gameTitle').innerText = "ì˜¤ëŠ˜ì˜ ê²Œì„: ìì› ë¶„ë°°";
        const gameArea = document.getElementById('gameArea');
        const scenarios = [
            { q: "$100ë¥¼ ê¸°ìˆ ì£¼(20% í™•ë¥ ë¡œ 5ë°° ìˆ˜ìµ)ì— íˆ¬ìí•  ë•Œì˜ ê¸°ëŒ€ê°’ì€ ì–¼ë§ˆì¼ê¹Œìš”?", a: 100 }, // 100 * 0.2 * 5 = 100
            { q: "$100ë¥¼ ì±„ê¶Œ(100% í™•ë¥ ë¡œ 1.1ë°° ìˆ˜ìµ)ì— íˆ¬ìí•  ë•Œì˜ ê¸°ëŒ€ê°’ì€ ì–¼ë§ˆì¼ê¹Œìš”?", a: 110 } // 100 * 1 * 1.1 = 110
        ];
        const scenario = scenarios[Math.floor(currentRandFn() * scenarios.length)];
        currentCorrectAnswer = scenario.a;
        gameArea.innerHTML = `<div class="game-display question">${scenario.q}</div>`;
        document.getElementById('game-input-area').innerHTML = `
            <div class="game-input">
                <input type="number" id="userAnswer" placeholder="ê¸°ëŒ€ê°’ ì…ë ¥">
                <button id="submitAnswer">ì œì¶œ</button>
            </div>
        `;
        gameInProgress = true;
    }

    // --- Game Dispatcher and Common Logic ---
    const gameTypes = [
        setupOptimizationPuzzle,
        setupDecisionMatrixGame,
        setupStrategicQuoteQuiz,
        setupResourceAllocationGame
    ];

    function getDayOfWeekText(day) {
        const messages = [
            "í•œ ì£¼ë¥¼ ë§ˆë¬´ë¦¬í•˜ë©°, ë‹¤ìŒ ì£¼ ì „ëµì„ êµ¬ìƒí•´ ë³´ì„¸ìš”.", // Sunday
            "ìƒˆë¡œìš´ í•œ ì£¼, íš¨ìœ¨ì ì¸ ê³„íšìœ¼ë¡œ ì‹œì‘í•´ ë³´ì„¸ìš”!", // Monday
            "ì˜¤ëŠ˜ì€ ë‹¹ì‹ ì˜ ê²°ë‹¨ë ¥ì´ ë¹›ì„ ë°œí•˜ëŠ” ë‚ ì…ë‹ˆë‹¤.", // Tuesday
            "ì£¼ ì¤‘ë°˜, ë…¼ë¦¬ì ì¸ ì‚¬ê³ ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•´ ë³´ì„¸ìš”.", // Wednesday
            "ë‹¹ì‹ ì˜ ë¦¬ë”ì‹­ì„ ì‹œí—˜í•´ ë³¼ ì‹œê°„ì…ë‹ˆë‹¤.", // Thursday
            "ì£¼ë§ì„ ì•ë‘” ê¸ˆìš”ì¼, ê°€ë³ê²Œ ë‘ë‡Œë¥¼ í›ˆë ¨í•´ ë³´ì„¸ìš”.", // Friday
            "ì—¬ìœ ë¡œìš´ í† ìš”ì¼, ìƒˆë¡œìš´ ë„ì „ì„ ì¦ê²¨ë³´ëŠ” ê±´ ì–´ë– ì‹ ê°€ìš”?", // Saturday
        ];
        return messages[day];
    }

    function showFeedback(isCorrect) {
        const feedbackMessage = document.getElementById('feedbackMessage');
        if (isCorrect) {
            feedbackMessage.innerText = "ì •ë‹µì…ë‹ˆë‹¤! ì—­ì‹œ ENTJ, ë›°ì–´ë‚œ ì „ëµê°€ì‹œêµ°ìš”.";
            feedbackMessage.className = "feedback-message correct";
        } else {
            feedbackMessage.innerText = "ì•„ì‰½ë„¤ìš”. ë” íš¨ìœ¨ì ì¸ ë°©ë²•ì€ ì—†ì—ˆì„ê¹Œìš”?";
            feedbackMessage.className = "feedback-message incorrect";
        }
        gameInProgress = false;
    }

    function handleChoiceClick(event) {
        if (!gameInProgress) return;
        const selectedIndex = parseInt(event.target.getAttribute('data-index'));
        showFeedback(selectedIndex === currentCorrectAnswer);
        document.querySelectorAll('.choice-btn').forEach(btn => btn.disabled = true);
    }

    function handleAnswerSubmit() {
        if (!gameInProgress) return;
        const userAnswer = document.getElementById('userAnswer').value.trim().toUpperCase();
        if (userAnswer == currentCorrectAnswer.toString().toUpperCase()) {
            showFeedback(true);
        } else {
            showFeedback(false);
        }
        document.getElementById('submitAnswer').disabled = true;
    }

    function initDailyGame() {
        const today = new Date();
        const seed = getDailySeed();
        currentRandFn = mulberry32(seed);
        
        const dayOfWeek = today.getDay();
        document.getElementById('gameDescription').innerText = getDayOfWeekText(dayOfWeek);

        const gameTypeIndex = Math.floor(currentRandFn() * gameTypes.length + dayOfWeek) % gameTypes.length;
        gameTypes[gameTypeIndex]();

        document.getElementById('feedbackMessage').innerText = '';
        document.getElementById('feedbackMessage').className = "feedback-message";
        
        const currentGameFn = gameTypes[gameTypeIndex];
        if (currentGameFn === setupDecisionMatrixGame) {
            document.querySelectorAll('.choice-btn').forEach(btn => {
                btn.addEventListener('click', handleChoiceClick);
            });
        } else {
            document.getElementById('submitAnswer').addEventListener('click', handleAnswerSubmit);
        }
    }

    window.onload = function() {
        try {
            initDailyGame();
        } catch (e) {
            console.error("ì˜¤ëŠ˜ì˜ ê²Œì„ ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", e);
            document.getElementById('gameDescription').innerText = "ì½˜í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ ì£¼ì„¸ìš”.";
        }
    };
    </script>
</body>
</html>